{"ast":null,"code":"import _objectSpread from\"/Users/heather/Development/code/phase-2/Project/APP-JOURNAL/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/heather/Development/code/phase-2/Project/APP-JOURNAL/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/heather/Development/code/phase-2/Project/APP-JOURNAL/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/heather/Development/code/phase-2/Project/APP-JOURNAL/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/heather/Development/code/phase-2/Project/APP-JOURNAL/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Routes,Route}from\"react-router-dom\";import IdeaForm from'./IdeaForm';import IdeaList from'./IdeaList';import NavBar from'./NavBar';import Home from'./Home';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),ideas=_useState2[0],setIdeas=_useState2[1];useEffect(function(){fetch(\"http://localhost:8000/ideas\").then(function(r){return r.json();}).then(function(data){return setIdeas(data);});},[]);var addIdea=function addIdea(idea){setIdeas([].concat(_toConsumableArray(ideas),[idea]));};var deleteIdea=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response,updatedIdeas;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:8000/ideas/\".concat(id),{method:'DELETE'});case 3:response=_context.sent;if(response.ok){updatedIdeas=ideas.filter(function(idea){return idea.id!==id;});setIdeas(updatedIdeas);}else{console.error('Failed to delete idea',response.status);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('Error deleting idea',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function deleteIdea(_x){return _ref.apply(this,arguments);};}();// (id) => {\n//   const updatedIdeas = ideas.filter(idea => idea.id !== id);\n//   setIdeas(updatedIdeas);\nvar editIdea=function editIdea(id,updatedIdea){var updatedIdeas=ideas.map(function(idea){return idea.id===id?_objectSpread(_objectSpread({},idea),updatedIdea):idea;});setIdeas(updatedIdeas);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/ideas/new\",element:/*#__PURE__*/_jsx(IdeaForm,{addIdea:addIdea})}),/*#__PURE__*/_jsx(Route,{path:\"/ideas\",element:/*#__PURE__*/_jsx(IdeaList,{ideas:ideas,deleteIdea:deleteIdea,editIdea:editIdea})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","IdeaForm","IdeaList","NavBar","Home","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","ideas","setIdeas","fetch","then","r","json","data","addIdea","idea","concat","_toConsumableArray","deleteIdea","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","response","updatedIdeas","wrap","_callee$","_context","prev","next","method","sent","ok","filter","console","error","status","t0","stop","_x","apply","arguments","editIdea","updatedIdea","map","_objectSpread","children","path","element"],"sources":["/Users/heather/Development/code/phase-2/Project/APP-JOURNAL/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Routes, Route } from \"react-router-dom\";\nimport IdeaForm from './IdeaForm';\nimport IdeaList from './IdeaList';\nimport NavBar from './NavBar';\nimport Home from './Home';\n\n\nfunction App() {\n  const [ideas, setIdeas] = useState([]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/ideas\")\n      .then(r => r.json())\n      .then(data => setIdeas(data))\n  }, []);\n\n  const addIdea = (idea) => {\n    setIdeas([...ideas, idea]);\n  };\n\n  const deleteIdea = async (id) => {\n    try {\n      const response = await fetch(`http://localhost:8000/ideas/${id}`, {\n        method: 'DELETE',\n      });\n  \n      if (response.ok) {\n        const updatedIdeas = ideas.filter((idea) => idea.id !== id);\n        setIdeas(updatedIdeas);\n      } else {\n        console.error('Failed to delete idea', response.status);\n      }\n    } catch (error) {\n      console.error('Error deleting idea', error);\n    }\n  };\n  // (id) => {\n  //   const updatedIdeas = ideas.filter(idea => idea.id !== id);\n  //   setIdeas(updatedIdeas);\n  \n\n  const editIdea = (id, updatedIdea) => {\n    const updatedIdeas = ideas.map(idea =>\n      idea.id === id ? { ...idea, ...updatedIdea } : idea\n    );\n    setIdeas(updatedIdeas);\n  };\n  \n\n\n  return (\n    <div>\n      <NavBar />\n      \n      \n      <Routes>              \n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/ideas/new\" element={<IdeaForm  addIdea={addIdea}/>} />\n        <Route path=\"/ideas\" element={<IdeaList ideas={ideas} deleteIdea={deleteIdea} editIdea={editIdea} />} />\n      </Routes>\n \n    </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}